{
  "filename": "quick_start.md",
  "__html": "<h1>Requirements</h1>\n<ul>\n<li>Java JDK 1.8</li>\n<li>Maven 3.6+</li>\n<li>Flink 1.9.3</li>\n<li>Zookeeper</li>\n</ul>\n<p>#Set up flink environment\nCurrently inlong-sort is based on flink, before you run an inlong-sort application,\nyou need to set up flink environment.</p>\n<p><a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/ops/deployment/cluster_setup.html\" target=\"_blank\">how to set up flink environment</a></p>\n<p>Currently, inlong-sort relys on flink-1.9.3. Chose <code>flink-1.9.3-bin-scala_2.11.tgz</code> when downloading package.</p>\n<p>Once your flink environment is set up, you can visit web ui of flink, whose address is stored in <code>/${your_flink_path}/conf/masters</code>.</p>\n<h1>Zookeeper</h1>\n<p>Inlong-sort uses zookeeper to manage its meta data. Make sure your zk is prepared before starting your inlong-sort application.</p>\n<p>#Compile inlong-sort</p>\n<ul>\n<li><code>cd /your_path/Inlong/inlong-sort</code></li>\n<li><code>mvn clean package</code></li>\n</ul>\n<p>After running this, you will get <code>inlong-sort-core-{version}.jar</code> in <code>/your_path/Inlong/inlong-sort/core/target</code></p>\n<p>#Starting an inlong-sort application\nNow you can submit job to flink with the jar compiled.</p>\n<p><a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/ops/deployment/yarn_setup.html#submit-job-to-flink\" target=\"_blank\">how to submit job to flink</a></p>\n<p>Example：</p>\n<ul>\n<li><code>./bin/flink run -c org.apache.inlong.sort.flink.Entrance inlong-sort-core-1.0-SNAPSHOT.jar --cluster-id my_application --zookeeper.quorum 127.0.0.1:2181 --zookeeper.path.root /inlong-sort --source.type tubemq --sink.type hive</code></li>\n</ul>\n<p>Notice：</p>\n<ul>\n<li>\n<p><code>-c org.apache.inlong.sort.flink.Entrance</code> 表示main class name</p>\n</li>\n<li>\n<p><code>inlong-sort-core-1.0-SNAPSHOT.jar</code> 为编译阶段产出的jar包</p>\n</li>\n</ul>\n<p>#Necessary configurations</p>\n<ul>\n<li><code>--cluster-id</code> which is used to represent a specified inlong-sort application</li>\n<li><code>--zookeeper.quorum</code> zk quorum</li>\n<li><code>--zookeeper.path.root</code> zk root path</li>\n<li><code>--source.type</code> source of the application, currently only &quot;tubemq&quot; is supported</li>\n<li><code>--sink.type</code> sink of the application, currently &quot;clickhouse&quot; and &quot;hive&quot; are supported</li>\n</ul>\n<p>Configurations above are necessary, you can see full configurations in</p>\n<p><code>~/Inlong/inlong-sort/common/src/main/java/org/apache/inlong/sort/configuration/Constants.java</code></p>\n<p><strong>Example</strong></p>\n<p><code>--cluster-id my_application --zookeeper.quorum 192.127.0.1:2181 --zookeeper.path.root /zk_root --source.type tubemq --sink.type hive</code></p>\n<p>#All configurations</p>\n<table>\n<thead>\n<tr>\n<th>name</th>\n<th>necessary</th>\n<th>default value</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cluster-id</td>\n<td>Y</td>\n<td>NA</td>\n<td>used to represent a specified inlong-sort application</td>\n</tr>\n<tr>\n<td>zookeeper.quorum</td>\n<td>Y</td>\n<td>NA</td>\n<td>zk quorum</td>\n</tr>\n<tr>\n<td>zookeeper.path.root</td>\n<td>Y</td>\n<td>&quot;/inlong-sort&quot;</td>\n<td>zk root path</td>\n</tr>\n<tr>\n<td>source.type</td>\n<td>Y</td>\n<td>NA</td>\n<td>source of the application, currently only &quot;tubemq&quot; is supported</td>\n</tr>\n<tr>\n<td>sink.type</td>\n<td>Y</td>\n<td>NA</td>\n<td>sink of the application, currently &quot;clickhouse&quot; and &quot;hive&quot; are supported</td>\n</tr>\n<tr>\n<td>source.parallelism</td>\n<td>N</td>\n<td>1</td>\n<td>parallelism of source</td>\n</tr>\n<tr>\n<td>deserialization.parallelism</td>\n<td>N</td>\n<td>1</td>\n<td>parallelism of deserialization</td>\n</tr>\n<tr>\n<td>sink.parallelism</td>\n<td>N</td>\n<td>1</td>\n<td>parallelism of sink</td>\n</tr>\n<tr>\n<td>tubemq.master.address</td>\n<td>N</td>\n<td>NA</td>\n<td>tube master address used if absent in DataFlowInfo on zk</td>\n</tr>\n<tr>\n<td>tubemq.session.key</td>\n<td>N</td>\n<td>&quot;inlong-sort&quot;</td>\n<td>session key used when subscribing to tubemq</td>\n</tr>\n<tr>\n<td>tubemq.bootstrap.from.max</td>\n<td>N</td>\n<td>false</td>\n<td>whether consume from max or not when subscribing to tubemq</td>\n</tr>\n<tr>\n<td>tubemq.message.not.found.wait.period</td>\n<td>N</td>\n<td>350ms</td>\n<td>The time of waiting period if tube broker return message not found</td>\n</tr>\n<tr>\n<td>tubemq.subscribe.retry.timeout</td>\n<td>N</td>\n<td>300000</td>\n<td>The time of subscribing tube timeout, in millisecond</td>\n</tr>\n<tr>\n<td>zookeeper.client.session-timeout</td>\n<td>N</td>\n<td>60000</td>\n<td>The session timeout for the ZooKeeper session in ms</td>\n</tr>\n<tr>\n<td>zookeeper.client.connection-timeout</td>\n<td>N</td>\n<td>15000</td>\n<td>The connection timeout for ZooKeeper in ms</td>\n</tr>\n<tr>\n<td>zookeeper.client.retry-wait</td>\n<td>N</td>\n<td>5000</td>\n<td>The pause between consecutive retries in ms</td>\n</tr>\n<tr>\n<td>zookeeper.client.max-retry-attempts</td>\n<td>N</td>\n<td>3</td>\n<td>The number of connection retries before the client gives up</td>\n</tr>\n<tr>\n<td>zookeeper.client.acl</td>\n<td>N</td>\n<td>&quot;open&quot;</td>\n<td>Defines the ACL (open/creator) to be configured on ZK node. The configuration value can be set to “creator” if the ZooKeeper server configuration has the “authProvider” property mapped to use SASLAuthenticationProvider and the cluster is configured to run in secure mode (Kerberos)</td>\n</tr>\n<tr>\n<td>zookeeper.sasl.disable</td>\n<td>N</td>\n<td>false</td>\n<td>Whether disable zk sasl or not</td>\n</tr>\n</tbody>\n</table>\n",
  "link": "/en-us/docs/modules/sort/quick_start.html",
  "meta": {
    "title": "Quick Start - Apache InLong-sort"
  }
}