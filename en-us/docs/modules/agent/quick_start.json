{
  "filename": "quick_start.md",
  "__html": "<h2>1、install</h2>\n<pre><code>env requirements：\njava JDK 1.8\nMaven 3.6 +\n\n\nmvn clean package -DskipTests\n\nThe tgz installation package can be found in the target under the agent-release\n</code></pre>\n<h2>2、Configuration</h2>\n<p>The agent supports two modes of operation: local operation and online operation</p>\n<p>###2.1 Agent configuration</p>\n<p>Online operation needs to pull the configuration from inlong-manager, the configuration conf/agent.properties is as follows:\nagent.fetcher.classname=org.apache.inlong.agent.plugin.fetcher.ManagerFetcher (the class name for fetch tasks, default ManagerFetcher）\nagent.local.ip=Write local ip\nagent.manager.vip.http.host=manager host\nagent.manager.vip.http.port=manager port</p>\n<p>###2.2 Proxy configuration\nCreate a new folder named .inlong.managerIps in the agent directory, and create a new bid+.local file inside. For example, if the sending bid is set to a, then create a new file a.local</p>\n<p>write:</p>\n<pre><code>{&quot;cluster_id&quot;:45,&quot;isInterVisit&quot;:1,&quot;size&quot;:1,&quot;address&quot;: [{&quot;port&quot;:write proxy port,&quot;host&quot;:&quot;write proxy ip&quot;}], &quot;switch&quot;:0}\n</code></pre>\n<p>###2.3 local job configuration\nIf you do not use the online mode, you can use the local file to create a new read task\nCreate a new directory jobs in conf,\nvim job1.json：</p>\n<p>put\n{</p>\n<pre><code>&quot;job&quot;: {\n\n&quot;dir&quot;: {\n\n&quot;pattern&quot;: &quot;The path of the file to be read, which can contain regular expressions&quot;\n\n},\n\n&quot;trigger&quot;: &quot;org.apache.inlong.agent.plugin.trigger.DirectoryTrigger&quot;,\n\n&quot;id&quot;: 1,\n\n&quot;name&quot;: &quot;fileAgentTest&quot;,\n\n&quot;source&quot;: &quot;org.apache.inlong.agent.plugin.sources.TextFileSource&quot;,\n\n&quot;sink&quot;: &quot;org.apache.inlong.agent.plugin.sinks.ProxySink&quot;,\n\n&quot;channel&quot;: &quot;org.apache.inlong.agent.plugin.channel.MemoryChannel&quot;\n\n},\n\n&quot;proxy&quot;: {\n\n&quot;bid&quot;: &quot;testbid1&quot;\n\n}\n\n}\n</code></pre>\n<p>The meaning of each parameter is ：</p>\n<pre><code>job.dir.pattern: Configure the read file path, which can include regular expressions\n\njob.trigger: Trigger name, the default is DirectoryTrigger, the function is to monitor the files under the folder to generate events\n\njob.source: The type of data source used, the default is TextFileSource, which reads text files\n\njob.sink：The type of writer used, the default is ProxySink, which sends messages to the proxy\n\nproxy.bid: The bid type used when writing proxy\n</code></pre>\n<p>###2.4 Add job configuration in real time</p>\n<p>##agent.propertities Modify the following two places</p>\n<pre><code># whether enable http service\nagent.http.enable=true\n# http default port\nagent.http.port=Available ports\n\ncurl --location --request POST 'http://localhost:8129/config/job' \\\n--header 'Content-Type: application/json' \\\n--data '{\n&quot;job&quot;: {\n&quot;dir&quot;: {\n&quot;path&quot;: &quot;&quot;,\n&quot;pattern&quot;: &quot;/data/inlong-agent/test.log&quot;\n},\n&quot;trigger&quot;: &quot;org.apache.inlong.agent.plugin.trigger.DirectoryTrigger&quot;,\n&quot;id&quot;: 1,\n&quot;thread&quot;: {\n&quot;running&quot;: {\n&quot;core&quot;: &quot;4&quot;\n},\n&quot;onejob&quot;: true\n},\n&quot;name&quot;: &quot;fileAgentTest&quot;,\n&quot;source&quot;: &quot;org.apache.inlong.agent.plugin.sources.TextFileSource&quot;,\n&quot;sink&quot;: &quot;org.apache.inlong.agent.plugin.sinks.TdBusSink&quot;,\n&quot;channel&quot;: &quot;org.apache.inlong.agent.plugin.channel.MemoryChannel&quot;\n},\n&quot;bus&quot;: {\n&quot;bid&quot;: &quot;thirtybid10&quot;,\n&quot;tdmanager&quot;: {\n&quot;port&quot;: &quot;8099&quot;,\n&quot;host&quot;: &quot;http://tl-tdbank-tdmanger.tencent-distribute.com&quot;\n}\n},\n&quot;op&quot;: &quot;add&quot;\n}'\n</code></pre>\n<p>##3、run\nAfter decompression, run the following command</p>\n<pre><code>sh agent.sh start\n</code></pre>\n",
  "link": "/en-us/docs/modules/agent/quick_start.html",
  "meta": {}
}