{
  "filename": "quick_start.md",
  "__html": "<h1>1. 环境准备</h1>\n<p>开始安装前，请自行下载并安装下述软件：</p>\n<ul>\n<li>\n<p>安装并配置 JDK（1.8+）、Maven（3.3+）；</p>\n</li>\n<li>\n<p>安装并启动 ZooKeeper 3.5+；</p>\n</li>\n<li>\n<p>安装并启动 Hadoop 2.10.x 和 Hive 2.3.x；</p>\n</li>\n<li>\n<p>安装并启动 MySQL 5.7+，把 inlong-manager 模块中的 <code>doc/sql/apache_inlong_manager.sql</code> 文件拷贝到 MySQL 数据库所在的服务器（比如拷贝到 <code>/data/</code>\n目录下），通过下述命令加载此文件，完成表结构及基础数据的初始化：</p>\n<pre><code class=\"language-shell\"><span class=\"hljs-meta\">#</span><span class=\"bash\"> 通过用户名和密码，登录 MySQL 服务器：</span>\nmysql -u xxx -p xxx\n...\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> 创建数据库</span>\nCREATE DATABASE IF NOT EXISTS apache_inlong_manager;\nUSE apache_inlong_manager;\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> 通过 <span class=\"hljs-built_in\">source</span> 命令加载上述 SQL 文件：</span>\n<span class=\"hljs-meta\">mysql&gt;</span><span class=\"bash\"> <span class=\"hljs-built_in\">source</span> /data/apache_inlong_manager.sql;</span>\n</code></pre>\n</li>\n<li>\n<p>参照 <a href=\"https://inlong.apache.org/zh-cn/docs/modules/tubemq/quick_start.html\">编译部署TubeMQ</a>，安装并启动 Tube 集群；</p>\n</li>\n<li>\n<p>参照 <a href=\"https://inlong.apache.org/zh-cn/docs/modules/tubemq/tubemq-manager/quick_start.html\">编译部署TubeMQ Manager</a>，安装并启动\nTubeManager。</p>\n</li>\n</ul>\n<h1>2. 编译打包</h1>\n<p>通过 macOS 的终端（或 Windows 的命令提示符窗口）进入项目根目录，执行以下编译命令：</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>编译成功后，前往项目的 <code>inlong-manager/manager-api</code> 和 <code>inlong-manager/manager-openapi</code> 模块，在各自的 <code>target</code>\n目录下生成了安装包，名称分别为 <code>apache-inlong-manager-api*.tar.gz</code> 和 <code>apache-inlong-manager-openapi*.tar.gz</code>。</p>\n<h1>3. 部署、启动 manager-api</h1>\n<p><strong>manager-api 是与前端页面交互的后台服务。</strong></p>\n<h2>3.1 上传、解压安装包</h2>\n<ol>\n<li>\n<p>将第2步的 <code>inlong-manager/manager-api/target/apache-inlong-manager-api-*.tar.gz</code> 拷贝到要部署的服务器；</p>\n</li>\n<li>\n<p>前往部署服务器，解压安装包：<code>tar -zxvf apache-inlong-manager-api-*.tar.gz</code>，得到 <code>manager-api</code> 文件夹。</p>\n</li>\n</ol>\n<h2>3.2 修改配置</h2>\n<p>前往解压后的 <code>manager-api</code> 目录，修改 <code>conf/application.yml</code> 文件：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># manager-api 服务的端口号</span>\n<span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">8083</span>\n\n<span class=\"hljs-comment\"># 使用的配置文件为 dev</span>\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">profiles:</span>\n    <span class=\"hljs-attr\">active:</span> <span class=\"hljs-string\">dev</span>\n</code></pre>\n<p>上面指定了 dev 配置，接下来修改 <code>conf/application-dev.yml</code> 文件：</p>\n<ol>\n<li>\n<p>修改数据库 URL、用户名和密码：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">datasource:</span>\n    <span class=\"hljs-attr\">jdbc-url:</span> <span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/apache_inlong_manager?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;characterEncoding=UTF-8&amp;nullCatalogMeansCurrent=true</span>\n    <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">xxxxxx</span>\n    <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">xxxxxx</span>\n</code></pre>\n</li>\n<li>\n<p>修改 Tube 和 ZooKeeper 集群的连接信息，其中 <code>cluster.zk.root</code> 建议使用默认值：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">cluster:</span>\n  <span class=\"hljs-attr\">tube:</span>\n    <span class=\"hljs-attr\">manager:</span> <span class=\"hljs-string\">http://127.0.0.1:8081</span> <span class=\"hljs-comment\"># Tube 集群的 Manager 地址，用来创建 Topic</span>\n    <span class=\"hljs-attr\">master:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8000,127.0.0.1:8010</span> <span class=\"hljs-comment\"># 用来管理 Tube 的 Broker</span>\n    <span class=\"hljs-attr\">clusterId:</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-comment\"># Tube 集群的 ID</span>\n  <span class=\"hljs-attr\">zk:</span>\n    <span class=\"hljs-attr\">url:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:2181</span>\n    <span class=\"hljs-attr\">root:</span> <span class=\"hljs-string\">inlong_hive</span>\n<span class=\"hljs-attr\">sort.appName:</span> <span class=\"hljs-string\">inlong_app</span> <span class=\"hljs-comment\"># Sort 应用名称，即设置 Sort 的 cluster-id 参数，默认值为\"inlong_app\"</span>\n</code></pre>\n</li>\n</ol>\n<h2>3.3 启动服务</h2>\n<p>进入解压后的目录，执行 <code>sh bin/startup.sh</code> 启动服务，查看日志 <code>tailf log/manager-api.log</code>，若出现类似下面的日志，说明服务启动成功：</p>\n<pre><code class=\"language-shell\">Started InLongApiApplication in 6.795 seconds (JVM running for 7.565)\n</code></pre>\n<h1>4. 部署、启动 manager-openapi</h1>\n<p><strong>manager-openapi 是为其他组件（如 Agent、DataProxy）提供交互接口的服务。</strong></p>\n<h2>4.1 上传、解压安装包</h2>\n<ol>\n<li>\n<p>将第2步的 <code>inlong-manager/manager-openapi/target/apache-inlong-manager-openapi-*.tar.gz</code> 拷贝到要部署的服务器；</p>\n</li>\n<li>\n<p>前往部署服务器，解压安装包：<code>tar -zxvf apache-inlong-manager-openapi-*.tar.gz</code>，得到 <code>manager-openapi</code> 文件夹。</p>\n</li>\n</ol>\n<h2>4.2 修改配置</h2>\n<p>前往解压后的 <code>manager-openapi</code> 目录，修改 <code>conf/application.yml</code> 文件：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># manager-openapi 服务的端口号</span>\n<span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">8082</span>\n\n<span class=\"hljs-comment\"># 使用的配置文件为 dev</span>\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">profiles:</span>\n    <span class=\"hljs-attr\">active:</span> <span class=\"hljs-string\">dev</span>\n</code></pre>\n<p>上面指定了 dev 配置，接下来修改 <code>conf/application-dev.yml</code> 文件：</p>\n<ol>\n<li>\n<p>修改数据库 URL、用户名和密码：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">datasource:</span>\n    <span class=\"hljs-attr\">jdbc-url:</span> <span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/apache_inlong_manager?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;characterEncoding=UTF-8&amp;nullCatalogMeansCurrent=true</span>\n    <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">xxxxxx</span>\n    <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">xxxxxx</span>\n</code></pre>\n</li>\n<li>\n<p>修改 Tube 和 ZooKeeper 集群的连接信息，其中 <code>cluster.zk.root</code> 建议使用默认值：</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">cluster:</span>\n  <span class=\"hljs-attr\">tube:</span>\n    <span class=\"hljs-attr\">manager:</span> <span class=\"hljs-string\">http://127.0.0.1:8081</span> <span class=\"hljs-comment\"># Tube 集群的 Manager 地址，用来创建 Topic</span>\n    <span class=\"hljs-attr\">master:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8000,127.0.0.1:8010</span> <span class=\"hljs-comment\"># 用来管理 Tube 的 Broker</span>\n    <span class=\"hljs-attr\">clusterId:</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-comment\"># Tube 集群的 ID</span>\n  <span class=\"hljs-attr\">zk:</span>\n    <span class=\"hljs-attr\">url:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:2181</span>\n    <span class=\"hljs-attr\">root:</span> <span class=\"hljs-string\">inlong_hive</span>\n<span class=\"hljs-attr\">sort.appName:</span> <span class=\"hljs-string\">inlong_app</span> <span class=\"hljs-comment\"># Sort 应用名称，即设置 Sort 的 cluster-id 参数，默认值为\"inlong_app\"</span>\n</code></pre>\n</li>\n</ol>\n<h2>4.3 启动服务</h2>\n<p>进入解压后的目录，执行 <code>sh bin/startup.sh</code> 启动服务，查看日志 <code>tailf log/manager-openapi.log</code>，若出现类似下面的日志，说明服务启动成功：</p>\n<pre><code class=\"language-shell\">Started InLongOpenApiApplication in 5.341 seconds (JVM running for 6.002)\n</code></pre>\n<h1>5. 服务访问验证</h1>\n<ol>\n<li>\n<p>验证 manager-api 服务：</p>\n<p>访问地址：<a href=\"http://%5Bmanager_api_ip%5D:%5Bmanager_api_port%5D/api/inlong/manager/doc.html#/home\">http://[manager_api_ip]:[manager_api_port]/api/inlong/manager/doc.html#/home</a></p>\n</li>\n<li>\n<p>验证 manager-openapi 服务：</p>\n<p>访问地址：<a href=\"http://%5Bmanager_openapi_ip%5D:%5Bmanager_openapi_port%5D/openapi/inlong/manager/doc.html#/home\">http://[manager_openapi_ip]:[manager_openapi_port]/openapi/inlong/manager/doc.html#/home</a></p>\n</li>\n</ol>\n",
  "link": "/zh-cn/docs/modules/manager/quick_start.html",
  "meta": {
    "快速开始 - Apache inlong-manager": ""
  }
}