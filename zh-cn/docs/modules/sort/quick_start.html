<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="quick_start" />
	<meta name="description" content="quick_start" />
	<!-- 网页标签标题 -->
	<title>quick_start</title>
	<link rel="shortcut icon" href="/img/apache.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><a href="//www.apache.org"><img class="logo apache" style="width:120px" src="/img/asf_logo.svg"/></a><div class="logo-split"></div><img class="logo tube" style="width:120px;top:12px;position:absolute" src="/img/Tube logo.svg"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><div><ul class="ant-menu blackClass ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/docs/quick_start.html" target="_self">文档</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/docs/download/download.html" target="_self">下载</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/zh-cn/docs/development/how-to-contribute.html" target="_self">开发</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="https://github.com/apache/incubator-inlong" target="_self">GITHUB</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper">Apache</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></div></div><div class="header-background"></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>文档</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>引导</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/quick_start.html" target="_self">快速开始</a></li></ul></li><li class="menu-item menu-item-level-1"><span>组件介绍</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Manager<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/manager/architecture.html" target="_self">架构介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/manager/user_manual.html" target="_self">管控台操作指引</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/manager/quick_start.html" target="_self">编译部署</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>WebSite<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/website/quick_start.html" target="_self">编译部署</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Agent<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/agent/architecture.html" target="_self">架构介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/agent/quick_start.html" target="_self">编译部署</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>DataProxy<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/dataproxy/architecture.html" target="_self">架构介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/dataproxy/quick_start.html" target="_self">编译部署</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>DataProxy-SDK<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/dataproxy-sdk/architecture.html" target="_self">架构介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/dataproxy-sdk/quick_start.html" target="_self">编译部署</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>TubeMQ<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/architecture.html" target="_self">架构介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/quick_start.html" target="_self">快速开始</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/configure_introduction.html" target="_self">配置参数介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/console_introduction.html" target="_self">管控台操作指引</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/client_rpc.html" target="_self">客户端RPC</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/error_code.html" target="_self">错误码</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/deployment.html" target="_self">部署示例</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/http_access_api.html" target="_self">HTTP API介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/clients_java.html" target="_self">JAVA SDK使用示例</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>TubeMQ-Manager<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/tubemq/tubemq-manager/quick_start.html" target="_self">编译部署</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Sort<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/sort/introduction.html" target="_self">架构介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/sort/protocol_introduction.html" target="_self">Zookeeper配置介绍</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/modules/sort/quick_start.html" target="_self">编译部署</a></li></ul></li></ul></li><li class="menu-item menu-item-level-1"><span><div class="menu-item menu-item-level-1" style="margin-left:-20px"><a href="/zh-cn/docs/contact.html" target="_self" style="padding-left:20px">联系我们</a></div></span><ul></ul></li></ul></div><div class="doc-content markdown-body"><h2>配置flink运行环境</h2>
<p>当前inlong-sort是基于flink的一个应用，因此运行inlong-sort应用前，需要准备好flink环境。</p>
<p><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.9/ops/deployment/cluster_setup.html" title="how to set up flink environment">如何配置flink环境</a></p>
<p>由于当前inlong-sort依赖的是flink1.9.3版本，因此在下载部署包时，请选择<code>flink-1.9.3-bin-scala_2.11.tgz</code></p>
<p>flink环境配置完成后，可以通过浏览器访问flink的web ui，对应的地址是<code>/{flink部署路径}/conf/masters</code>文件中的地址</p>
<h2>准备安装文件</h2>
<p>安装文件在<code>inlong-sort</code>目录。</p>
<h2>启动inlong-sort应用</h2>
<p>有了上述编译阶段产出的jar包后，就可以启动inlong-sort的应用了。</p>
<p><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.9/ops/deployment/yarn_setup.html#submit-job-to-flink" title="如何提交flink作业">如何提交flink作业</a></p>
<p>示例：</p>
<ul>
<li><code>./bin/flink run -c org.apache.inlong.sort.flink.Entrance inlong-sort-core-1.0-SNAPSHOT.jar --cluster-id my_application --zookeeper.quorum 127.0.0.1:2181 --zookeeper.path.root /inlong-sort --source.type tubemq --sink.type hive</code></li>
</ul>
<p>注意：</p>
<ul>
<li>
<p><code>-c org.apache.inlong.sort.flink.Entrance</code> 表示main class name</p>
</li>
<li>
<p><code>inlong-sort-core-1.0-SNAPSHOT.jar</code> 为编译阶段产出的jar包</p>
</li>
</ul>
<h2>必要的配置</h2>
<ul>
<li><code>--cluster-id</code> 用来唯一标识一个inlong-sort作业</li>
<li><code>--zookeeper.quorum</code> zk quorum</li>
<li><code>--zookeeper.path.root</code> zk根目录</li>
<li><code>--source.type</code> 数据源的种类, 当前支持：&quot;tubemq&quot;、&quot;pulsar&quot;</li>
<li><code>--sink.type</code> 存储系统的种类，当前支持：&quot;clickhouse&quot;、&quot;hive&quot;</li>
</ul>
<p><strong>配置示例</strong></p>
<p><code>--cluster-id my_application --zookeeper.quorum 192.127.0.1:2181 --zookeeper.path.root /zk_root --source.type tubemq --sink.type hive</code></p>
<h2>所有支持的配置</h2>
<table>
<thead>
<tr>
<th>配置名</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster-id</td>
<td>Y</td>
<td>NA</td>
<td>用来唯一标识一个inlong-sort作业</td>
</tr>
<tr>
<td>zookeeper.quorum</td>
<td>Y</td>
<td>NA</td>
<td>zk quorum</td>
</tr>
<tr>
<td>zookeeper.path.root</td>
<td>Y</td>
<td>&quot;/inlong-sort&quot;</td>
<td>zk根目录</td>
</tr>
<tr>
<td>source.type</td>
<td>Y</td>
<td>NA</td>
<td>数据源的种类, 当前支持&quot;tubemq&quot;和&quot;pulsar&quot;</td>
</tr>
<tr>
<td>sink.type</td>
<td>Y</td>
<td>NA</td>
<td>存储系统的种类，当前支持&quot;clickhouse&quot; 和 &quot;hive&quot;</td>
</tr>
<tr>
<td>source.parallelism</td>
<td>N</td>
<td>1</td>
<td>source的并行度</td>
</tr>
<tr>
<td>deserialization.parallelism</td>
<td>N</td>
<td>1</td>
<td>deserialization的并行度</td>
</tr>
<tr>
<td>sink.parallelism</td>
<td>N</td>
<td>1</td>
<td>sink的并行度</td>
</tr>
<tr>
<td>tubemq.master.address</td>
<td>N</td>
<td>NA</td>
<td>订阅tube的master address，优先级低于zk上的元数据</td>
</tr>
<tr>
<td>tubemq.session.key</td>
<td>N</td>
<td>&quot;inlong-sort&quot;</td>
<td>订阅tube使用的session key前缀</td>
</tr>
<tr>
<td>tubemq.bootstrap.from.max</td>
<td>N</td>
<td>false</td>
<td>是否从最大位置开始消费tube</td>
</tr>
<tr>
<td>tubemq.message.not.found.wait.period</td>
<td>N</td>
<td>350ms</td>
<td>tube返回message not found后的等待时间</td>
</tr>
<tr>
<td>tubemq.subscribe.retry.timeout</td>
<td>N</td>
<td>300000</td>
<td>订阅tube的重试超时时间，单位为ms</td>
</tr>
<tr>
<td>zookeeper.client.session-timeout</td>
<td>N</td>
<td>60000</td>
<td>zk session的超时时间，单位为ms</td>
</tr>
<tr>
<td>zookeeper.client.connection-timeout</td>
<td>N</td>
<td>15000</td>
<td>zk连接的超时时间，单位为ms</td>
</tr>
<tr>
<td>zookeeper.client.retry-wait</td>
<td>N</td>
<td>5000</td>
<td>zk重连间的等待时间，单位为ms</td>
</tr>
<tr>
<td>zookeeper.client.max-retry-attempts</td>
<td>N</td>
<td>3</td>
<td>zk重连的最大重试次数</td>
</tr>
<tr>
<td>zookeeper.client.acl</td>
<td>N</td>
<td>&quot;open&quot;</td>
<td>Defines the ACL (open/creator) to be configured on ZK node. The configuration value can be set to “creator” if the ZooKeeper server configuration has the “authProvider” property mapped to use SASLAuthenticationProvider and the cluster is configured to run in secure mode (Kerberos)</td>
</tr>
<tr>
<td>zookeeper.sasl.disable</td>
<td>N</td>
<td>false</td>
<td>是否禁用sasl</td>
</tr>
</tbody>
</table>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/incubator-logo.svg"/><div class="cols-container"><div class="col col-24"><p>Apache InLong (incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p></div></div><div class="copyright"><span>Copyright © 2019-2020 The Apache Software Foundation. Apache InLong, InLong, and its feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script src="https://buttons.github.io/buttons.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>
